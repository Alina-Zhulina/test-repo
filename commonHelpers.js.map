{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('input[name=\"query\"]');\nconst news = document.querySelector('.news');\nlet query = '';\nlet page = 1;\nlet articles = [];\n\naxios.defaults.baseURL = 'https://newsapi.org';\n\nform.addEventListener('submit', async(e) => {\n    e.preventDefault();\n    query = e.target.elements.query.value.trim();\n\n    if (query === '') {\n        showNotification(\"Please enter a search query.\");\n        return;\n    }\n    clearArticles();\n    const result = await getNews(query);\n    articles = result.articles;\n    try {\n        if (articles.length === 0) {\n            showNotification(\"Sorry, there are no articles matching your search query. Please try again!\");\n        } else {\n            renderArticles (articles);\n        }\n        input.value = '';\n    } catch (error) {\n        showNotification(error.message);\n    }\n}\n);\n\nasync function getNews (query) {\n    const API_KEY = '345785a066764794828ce40eac434841';\n    const END_POINT = '/v2/everything';\n    const params = new URLSearchParams ({\n        apiKey: API_KEY,\n        q: query,\n        pageSize: 20,\n        page: page,\n});\ntry {\n    const response = await axios.get(END_POINT, {params});\n    const data = response.data;\n    const filteredArticles = data.articles.filter(article => article.title !== \"[Removed]\" && article.urlToImage !== null);\n    return {articles: filteredArticles, totalResults: data.totalResults}   \n}\ncatch(error) {\n    console.error('Error fetching the images:', error);\n}\n}\n\n\nfunction renderArticles (articles) {\nconst listContainer = document.createElement('ul');\nlistContainer.classList.add('news-list');\nconst markup = articles.map(({author, description, publishedAt, title, url, urlToImage}) => {\nreturn ` \n      <li class=\"articles\">\n      <div class=\"articles-content\">\n      <h1>${title}</h1>\n      <p>${description}</p>\n      <span><b>Author:</b> ${author}</span><br>\n      <span><b>Published At:</b> ${publishedAt}</span><br>\n      <a href=\"${url}\"><em>Read more</em></a>\n</div>\n<img src=\"${urlToImage}\" alt=\"${title}\" class=\"article-image\">\n      </li>\n    </ul>`;\n}).join('');\nlistContainer.innerHTML = markup;\nnews.innerHTML = '';\nnews.appendChild(listContainer);\n}\n\nfunction showNotification(message) {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n        backgroundColor: '#ef4040',\n        theme: 'dark',\n    });\n}\n\nfunction clearArticles() {\n    news.innerHTML = '';\n}"],"names":["form","input","news","query","page","articles","axios","e","showNotification","clearArticles","getNews","renderArticles","error","API_KEY","END_POINT","params","data","article","listContainer","markup","author","description","publishedAt","title","url","urlToImage","message","iziToast"],"mappings":"6vBAGA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,qBAAqB,EACpDC,EAAO,SAAS,cAAc,OAAO,EAC3C,IAAIC,EAAQ,GACRC,EAAO,EACPC,EAAW,CAAA,EAEfC,EAAM,SAAS,QAAU,sBAEzBN,EAAK,iBAAiB,SAAU,MAAMO,GAAM,CAIxC,GAHAA,EAAE,eAAc,EAChBJ,EAAQI,EAAE,OAAO,SAAS,MAAM,MAAM,OAElCJ,IAAU,GAAI,CACdK,EAAiB,8BAA8B,EAC/C,MACH,CACDC,IAEAJ,GADe,MAAMK,EAAQP,CAAK,GAChB,SAClB,GAAI,CACIE,EAAS,SAAW,EACpBG,EAAiB,4EAA4E,EAE7FG,EAAgBN,CAAQ,EAE5BJ,EAAM,MAAQ,EACjB,OAAQW,EAAO,CACZJ,EAAiBI,EAAM,OAAO,CACjC,CACL,CACA,EAEA,eAAeF,EAASP,EAAO,CAC3B,MAAMU,EAAU,mCACVC,EAAY,iBACZC,EAAS,IAAI,gBAAiB,CAChC,OAAQF,EACR,EAAGV,EACH,SAAU,GACV,KAAMC,CACd,CAAC,EACD,GAAI,CAEA,MAAMY,GADW,MAAMV,EAAM,IAAIQ,EAAW,CAAC,OAAAC,CAAM,CAAC,GAC9B,KAEtB,MAAO,CAAC,SADiBC,EAAK,SAAS,OAAOC,GAAWA,EAAQ,QAAU,aAAeA,EAAQ,aAAe,IAAI,EACjF,aAAcD,EAAK,YAAY,CACvE,OACMJ,EAAO,CACT,QAAQ,MAAM,6BAA8BA,CAAK,CACrD,CACA,CAGA,SAASD,EAAgBN,EAAU,CACnC,MAAMa,EAAgB,SAAS,cAAc,IAAI,EACjDA,EAAc,UAAU,IAAI,WAAW,EACvC,MAAMC,EAASd,EAAS,IAAI,CAAC,CAAC,OAAAe,EAAQ,YAAAC,EAAa,YAAAC,EAAa,MAAAC,EAAO,IAAAC,EAAK,WAAAC,CAAU,IAC/E;AAAA;AAAA;AAAA,YAGKF,CAAK;AAAA,WACNF,CAAW;AAAA,6BACOD,CAAM;AAAA,mCACAE,CAAW;AAAA,iBAC7BE,CAAG;AAAA;AAAA,YAERC,CAAU,UAAUF,CAAK;AAAA;AAAA,UAGpC,EAAE,KAAK,EAAE,EACVL,EAAc,UAAYC,EAC1BjB,EAAK,UAAY,GACjBA,EAAK,YAAYgB,CAAa,CAC9B,CAEA,SAASV,EAAiBkB,EAAS,CAC/BC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,EACT,gBAAiB,UACjB,MAAO,MACf,CAAK,CACL,CAEA,SAASjB,GAAgB,CACrBP,EAAK,UAAY,EACrB"}